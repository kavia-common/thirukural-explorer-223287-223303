{"is_source_file": true, "format": "JavaScript", "description": "This file defines two exported asynchronous functions, getRandomKural and analyzeKural, for fetching and analyzing Thirukural data from backend API endpoints. It includes internal utility functions for normalizing responses, handling errors, and retrying with multiple base URLs. The code is intended for frontend use, specifically within a React application, and handles network requests, JSON parsing, and response normalization.", "external_files": ["window.fetch", "process.env.REACT_APP_API_URL", "window.location"], "external_methods": ["fetch"], "published": ["getRandomKural", "analyzeKural"], "classes": [], "methods": [{"name": "getRandomKural()", "description": "Fetches a random Thirukural from the backend with fallback URL handling, processing responses, and error handling.", "scope": "", "scopeKind": ""}, {"name": "analyzeKural({ number, kural, translation })", "description": "Analyzes a specific Thirukural by calling the backend analyze API, with retries and response normalization.", "scope": "", "scopeKind": ""}, {"name": "normalizeKuralResponse(data)", "description": "Converts varying backend response shapes into a standard object with fields for number, Tamil text, English translation, section, and chapter.", "scope": "", "scopeKind": ""}, {"name": "safeReadText(res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "truncate(str, max)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.fetch", "safeReadText", "truncate"], "search-terms": ["Thirukural fetch", "frontend API calls", "response normalization", "multiple base URLs", "React API utility"], "state": 2, "file_id": 13, "knowledge_revision": 42, "git_revision": "4658e4d9bbe5978a1f31af0959e452441f90b92f", "revision_history": [{"27": ""}, {"35": "8383cdae46d85d2e637b155aa0023e24c156d65c"}, {"42": "4658e4d9bbe5978a1f31af0959e452441f90b92f"}], "ctags": [{"_type": "tag", "name": "analyzeKural", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223303/thirukural_frontend/src/api.js", "pattern": "/^export async function analyzeKural({ number, kural, translation }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ number, kural, translation })"}, {"_type": "tag", "name": "getRandomKural", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223303/thirukural_frontend/src/api.js", "pattern": "/^export async function getRandomKural() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeKuralResponse", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223303/thirukural_frontend/src/api.js", "pattern": "/^function normalizeKuralResponse(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)"}, {"_type": "tag", "name": "safeReadText", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223303/thirukural_frontend/src/api.js", "pattern": "/^async function safeReadText(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "truncate", "path": "/home/kavia/workspace/code-generation/thirukural-explorer-223287-223303/thirukural_frontend/src/api.js", "pattern": "/^function truncate(str, max) {$/", "language": "JavaScript", "kind": "function", "signature": "(str, max)"}], "hash": "dc339fcac57bc3d42608121a4a58f4f9", "format-version": 4, "code-base-name": "thirukural_frontend", "filename": "thirukural_frontend/src/api.js"}